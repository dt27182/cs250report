\section{Background}
\subsection{Automatic Pipelining}
\label{sec:related-work}
This project is based on the existing automatic pipelining tool built on top of Chisel\cite{Bachrach:2012}. The existing automatic pipelining tool allows the RTL designer to specify a one cycle implementation of a finite state machine along with a set of annotations that specify the pipeline stage number of a subset of Chisel graph nodes in the design. During the Chisel backend elaboration process, the automatic pipelining tool transforms the original one stage implementation of the finite state machine into a pipelined design with the correct hazard resolution logic according to the pipeline stage number annotations. The tool resolves pipeline hazards (which are confined to read-after-write hazards) in one of three ways: interlocking, bypassing, and speculation. The tool resolves pipeline hazards with interlocking by default and the user can select particular state elements to be resolved with bypassing and speculation with additional annotation.

This tool expands upon the work by Nurvitadhi et al~\cite{hoe:syn}, which provided a means to automatically pipeline finite state machines by having the designer label every combinational and sequential node in the design in a hierarchical manner using a specialized specification language. Our automatical pipelining tool does not require the user to annotate every node with a stage number and automatically finds the close-to-optimal pipeline register placements.

\subsection{Chisel Backannotation}
